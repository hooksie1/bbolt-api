= API

== Endpoints
=== Buckets

[.getBuckets]
==== getBuckets
`GET /v1/buckets`

===== Description

Get all buckets in database.

==== Responses

.http response codes
[cols="2,3,1"]
|===
|Code | Message | Datatype
| 200 | `{"buckets":["bucket"]}` | JSON
|===

[.getBucketByID]
==== getBucketByID

`GET /v1/buckets/{id}`

===== Description
Gets a bucket

==== Responses

.http response codes
[cols="2,3,1"]
|===
|Code | Message | Datatype
| 200 | |
| 404 | |
|===

[.deleteBucketByID]
==== deleteBucketByID

`DELETE /v1/buckets/{id}`

===== Description
Deletes a bucket

===== Responses
.http response codes
[cols="2,3,1"]
|===
|Code | Message | Datatype
| 200 | |
|===

[.createBucketByID]
==== createBucketByID

`POST /v1/buckets/{id}`

===== Description
Creates a bucket

.parameters
[cols="2,3,1,1,1"]
|===
|Name|Description|Required|Default|Pattern
|ID |Bucket name |X | |
|===

===== Responses
.http response codes
[cols="2,3,1"]
|===
|Code | Message | Datatype
| 200 | |
| 404 | |
|===

=== Keys

[.getBucketKeys]
==== getBucketKeys

`GET /v1/buckets/{bucketID}/keys`

===== Description
Get all keys in a bucket

===== Responses
.http response codes
[cols="2,3,1"]
|===
|Code | Message | Datatype
| 200 | `{"key":"value","key2":"value2"}`| JSON
| 404 | `{"details": "no kv pairs in bucket"}`| JSON
|===

[.getKVByID]
==== getKVByID

`GET /v1/buckets/{bucketID}/keys/{keyID}`

===== Description
Get data from KV


.parameters
[cols="2,3,1,1,1"]
|===
|Name|Description|Required|Default|Pattern
|bucketID |Bucket name |X | |
|keyID | Key name | X | |
|===

===== Responses
.http response codes
[cols="2,3,1"]
|===
|Code | Message | Datatype
| 200 | `{"key":"value"}` | JSON
| 404 | `{"details":"kv not found"}`| JSON
|===

[.createKV]
==== createKV

`POST /v1/buckets/{bucketID}/keys/{keyID}`

===== Description

Create KV pair

.parameters
[cols="2,3,1,1,1"]
|===
|Name|Description|Required|Default|Pattern
|bucketID |Bucket name |X | |
|keyID | Key name | X | |
| Body | `{"data": "your-value"}` | X | |
|===

===== Responses
.responses
.http response codes
[cols="2,3,1"]
|===
|Code | Message | Datatype
| 200 | |
|===

[.deleteKVByID]
==== deleteKVByID

`DELETE /v1/buckets/{bucketID}/keys/{keyID}`

===== Description
Deletes a KV

.parameters
[cols="2,3,1,1,1"]
|===
|Name|Description|Required|Default|Pattern
|bucketID |Bucket name |X | |
|keyID | Key name | X | |
|===

===== Responses
.responses
.http response codes
[cols="2,3,1"]
|===
|Code | Message | Datatype
| 200 | |
|===

